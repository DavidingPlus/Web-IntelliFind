import{_ as b}from"./PageContainer-634a4ae5.js";import{r as u,a as V,u as x,b as E,x as k,w as t,e,h,_ as U,j as q,k as y,m as F,q as N,a2 as R,a3 as S}from"./index-bed6c77c.js";/* empty css               *//* empty css                     *//* empty css                   */import"./_plugin-vue_export-helper-c27b6911.js";const z={__name:"UserPassword",setup(B){const n=u(),r=u({old_pwd:"",new_pwd:"",re_pwd:""}),p=u({old_pwd:[{required:!0,message:"请输入原密码",trigger:"blur"},{min:6,max:15,message:"原密码长度在6-15位之间",trigger:"blur"}],new_pwd:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,max:15,message:"新密码长度在6-15位之间",trigger:"blur"},{validator:(d,o,l)=>{o===r.value.old_pwd?l(new Error("新密码不能与原密码一样")):l()},trigger:"blur"}],re_pwd:[{required:!0,message:"请再次输入新密码",trigger:"blur"},{min:6,max:15,message:"确认密码长度在6-15位之间",trigger:"blur"},{validator:(d,o,l)=>{o!==r.value.new_pwd?l(new Error("确认密码必须和新密码一样")):l()},trigger:"blur"}]}),_=V(),m=x(),w=async()=>{await n.value.validate(),U.success("密码修改成功"),_.setToken(""),m.push("/login")};return(d,o)=>{const l=q,s=y,i=F,c=N,f=R,g=S,v=b;return E(),k(v,{title:"修改密码"},{default:t(()=>[e(g,null,{default:t(()=>[e(f,{span:12},{default:t(()=>[e(c,{ref_key:"formRef",ref:n,model:r.value,rules:p.value,"label-width":"100px"},{default:t(()=>[e(s,{label:"原密码",prop:"old_pwd"},{default:t(()=>[e(l,{modelValue:r.value.old_pwd,"onUpdate:modelValue":o[0]||(o[0]=a=>r.value.old_pwd=a),"show-password":""},null,8,["modelValue"])]),_:1}),e(s,{label:"新密码",prop:"new_pwd"},{default:t(()=>[e(l,{modelValue:r.value.new_pwd,"onUpdate:modelValue":o[1]||(o[1]=a=>r.value.new_pwd=a),"show-password":""},null,8,["modelValue"])]),_:1}),e(s,{label:"确认密码",prop:"re_pwd"},{default:t(()=>[e(l,{modelValue:r.value.re_pwd,"onUpdate:modelValue":o[2]||(o[2]=a=>r.value.re_pwd=a),"show-password":""},null,8,["modelValue"])]),_:1}),e(s,null,{default:t(()=>[e(i,{type:"primary",onClick:w},{default:t(()=>[h("修改密码")]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1})]),_:1})]),_:1})}}};export{z as default};
